{"version":3,"sources":["Components/Card/style.js","Components/Card/index.tsx","Components/Board/style.js","Components/Board/index.tsx","Components/Modal/style.js","Components/Modal/index.tsx","style.js","App.tsx","api.tsx","reportWebVitals.ts","index.tsx"],"names":["Container","styled","div","Text","Btn","button","BtnWrapper","AddInfo","span","Info","getText","state","getTime","time","toLocaleString","minimumIntegerDigits","maximumFractionDigits","useGrouping","Card","task","onAction","useState","Date","setTime","useEffect","intervalId","setInterval","clearInterval","text","price","toFixed","type","onClick","id","Title","Header","Number","Board","title","tasks","onAdd","filtered","useMemo","filter","length","map","props","isModal","Form","form","Input","textarea","Btns","Modal","onSubmit","onClose","ref","useRef","e","preventDefault","target","value","name","h1","SubTitle","p","Boards","App","setTasks","setModal","isLoading","setLoading","className","newTasks","index","findIndex","item","Promise","resolve","setTimeout","then","res","catch","err","console","log","uuidv4","add","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c0f0c1cf.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const Container = styled.div`\nmargin-top: 10px;\n  width: 100%;\n  background: #FFF;\n  border: 1px solid rgb(238,239,241);\n  border-radius: 10px;\n  height: 100px;\n  display: flex;\n  justify-content: space-between;\n  padding: 10px 20px;\n  box-sizing: border-box;\n`;\n\nexport const Text = styled.div``;\n\nexport const Btn = styled.button`\n  background: #097BED;\n  border-radius: 5px;\n  color: #FFF;\n  padding: 5px;\n  border: none;\n`;\n\nexport const BtnWrapper = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const AddInfo = styled.span``;\n\nexport const Info = styled.div``;","import React, { useEffect, useState } from 'react';\nimport { Task } from '../../App';\nimport { Container, Btn, Text, BtnWrapper, Info, AddInfo } from './style';\n\ninterface Props {\n  task: Task;\n  onAction?: (id: string) => void;\n}\n\nfunction getText(state: string): string {\n  switch(state) {\n    case 'To do':\n      return 'Start';\n    case 'In progress':\n      return 'Resolve';\n    default:\n      return '';\n  }\n}\n\nfunction getTime(time: number) {\n  return `${(time/3600).toLocaleString('en-US', {\n    minimumIntegerDigits: 2,\n    maximumFractionDigits: 0,\n    useGrouping: false\n  })}:${(time%3600/60).toLocaleString('en-US', {\n    minimumIntegerDigits: 2,\n    maximumFractionDigits: 0,\n    useGrouping: false\n  })}:${(time%3600%60).toLocaleString('en-US', {\n    minimumIntegerDigits: 2,\n    maximumFractionDigits: 0,\n    useGrouping: false\n  })}`\n}\n\nexport default function Card({ task, onAction }: Props) {\n  const [time, setTime] = useState(\n    (new Date().getTime() - (task.time as number))/1000\n  );\n\n  useEffect(() => {\n    // let intervalId: ReturnType<typeof setInterval>;\n    if (task.state === 'In progress') {\n      const intervalId = setInterval(() => {\n        setTime(time => time + 1);\n      }, 1000);\n      return () => clearInterval(intervalId);\n    }\n  }, []);\n\n  return (\n    <Container>\n      <Info>\n        <Text>{task.text}</Text>\n        {task.state === 'In progress' && (\n          <AddInfo>{getTime(time)}</AddInfo>\n          )}\n        {task.state === 'Done' && (<AddInfo>{`$${task.price?.toFixed(2)}`}</AddInfo>)}\n      </Info>\n      {onAction && (\n        <BtnWrapper>\n          <Btn type=\"button\" onClick={() => onAction(task.id)}>\n            {getText(task.state)}\n          </Btn>\n        </BtnWrapper>\n      )}\n    </Container>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  width: 100%;\n  background: #F7F8FA;\n  border: 1px solid rgb(238,239,241);\n  border-radius: 10px;\n  min-height: 600px;\n  padding: 20px;\n  box-sizing: border-box;\n`;\n\nexport const Title = styled.div`\n  margin-left: 10px;\n`;\n\nexport const Header = styled.div`\n  display: flex;\n`;\n\nexport const Number = styled.div`\n  border-radius: 50%;\n  background: rgb(221,224,229);\n  color: #787B82;\n  width: 25px;\n  height: 25px;\n  text-align: center;\n`;\n\nexport const BtnWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n`;\n\nexport const Btn = styled.button`\n  margin: 10px auto;\n  background: #FFF;\n  border: 1px solid rgb(238,239,241);\n  border-radius: 5px;\n  padding: 5px 10px;\n`;","import React, { useMemo } from 'react';\nimport { Task } from '../../App';\nimport Card from '../Card';\nimport { Container, Header, Number, Title, Btn, BtnWrapper } from './style';\n\ninterface Props {\n  title: string;\n  tasks: Task[];\n  onAction?: (id: string) => void;\n  onAdd?: () => void;\n}\n\nexport default function Board({ title, tasks, onAction, onAdd }: Props) {\n\n  const filtered = useMemo(() => tasks.filter(task => task.state === title), [tasks]);\n\n  return (\n    <Container>\n      <Header>\n        <Number>{filtered.length}</Number>\n        <Title>{title}</Title>\n      </Header>\n      {filtered.map(task => (\n        <Card\n          key={task.id}\n          task={task}\n          onAction={onAction}\n        />\n      ))}\n      {title === 'To do' && <BtnWrapper><Btn onClick={onAdd}>New Task</Btn></BtnWrapper>}\n    </Container>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  visibility: ${props => props.isModal ? 'visible' : 'hidden'};\n  background: rgba(0, 0, 0, 0.4);\n`;\n\nexport const Form = styled.form`\n  width: 400px;\n  background: #F7F8FA;\n  border: 1px solid rgb(238,239,241);\n  border-radius: 10px;\n  padding: 10px 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Input = styled.textarea`\n  background: #FFF;\n  border: none;\n  width: 100%;\n`;\n\nexport const Btn = styled.button`\n  width: 100px;\n  background: #FFF;\n  border: 1px solid rgb(238,239,241);\n  border-radius: 5px;\n  padding: 5px 10px;\n`;\n\nexport const Btns = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 10px;\n  width: 100%;\n`;","import React, { useRef } from 'react';\nimport { Container, Form, Input, Btn, Btns } from './style';\n\ninterface Props {\n  isModal: boolean;\n  onSubmit: (text: string) => void;\n  onClose: () => void;\n}\n\nexport default function Modal({ isModal, onSubmit, onClose }: Props) {\n  const ref = useRef();\n\n  function handleSubmit(e: React.SyntheticEvent) {\n    e.preventDefault();\n    const target = e.target as typeof e.target & {\n      text: { value: string };\n    };\n    onSubmit(target.text.value);\n    target.text.value = '';\n  }\n\n  function handleClose() {\n    onClose();\n  }\n\n  return (\n    <Container isModal={isModal}>\n      <Form ref={ref} onSubmit={handleSubmit}>\n        <Input name=\"text\" />\n        <Btns>\n          <Btn type=\"submit\">Add</Btn>\n          <Btn type=\"button\" onClick={handleClose}>Cancel</Btn>\n        </Btns>\n      </Form>\n    </Container>\n  )\n}\n","import styled from 'styled-components';\n\nexport const Title = styled.h1`\n  font-size: 20px;\n  line-height: 24px;\n`;\n\nexport const SubTitle = styled.p`\n\n`;\n\nexport const Boards = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 10px;\n`;\n","import React, { useState } from 'react';\nimport './App.css';\nimport Board from './Components/Board';\nimport Modal from './Components/Modal';\nimport { Boards, Title, SubTitle } from './style';\nimport { add, resolve, start } from './api';\n\nexport interface Task {\n  id: string;\n  text: string;\n  state: string;\n  time: null | number;\n  price: null | number;\n}\n\n\n\nfunction App() {\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [isModal, setModal] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n\n  function handleStart(id: string) {\n    const newTasks = [...(tasks)];\n    const index = newTasks.findIndex(item => item.id === id);\n    setLoading(true);\n    start(newTasks[index])\n      .then(res => {\n        newTasks[index] = res;\n        setLoading(false);\n        setTasks(newTasks);\n      })\n      .catch(err => {\n        console.log(err);\n        setLoading(false);\n      });\n  }\n\n  function handleResolve(id: string) {\n    const newTasks = [...tasks];\n    const index = newTasks.findIndex(item => item.id === id);\n    setLoading(true);\n    resolve(newTasks[index])\n      .then(res => {\n        newTasks[index] = res;\n        setTasks(newTasks);\n        setLoading(false);\n      })\n      .catch(err => {\n        console.log(err);\n        setLoading(false);\n      });\n\n  }\n\n  function handleAdd() {\n    setModal(true);\n  }\n\n  function handleSubmit(text: string) {\n    setModal(false);\n    setLoading(true);\n    add(text)\n      .then(res => {\n        setTasks([...tasks, res]);\n        setLoading(false);\n      })\n      .catch(err => {\n        console.log(err);\n        setLoading(false);\n      });\n  }\n\n  return (\n    <div className=\"App\">\n      <Title>Anyway Labs Test Project</Title>\n      <SubTitle>Just some good deeds</SubTitle>\n      {!isLoading ? (\n        <Boards>\n          <Board\n            title={'To do'}\n            tasks={tasks}\n            onAction={handleStart}\n            onAdd={handleAdd}\n          />\n          <Board\n            title={'In progress'}\n            tasks={tasks}\n            onAction={handleResolve}\n          />\n          <Board\n            title={'Done'}\n            tasks={tasks}\n          />\n        </Boards>\n      ) : <h1>Loading...</h1>}\n      <Modal isModal={isModal} onSubmit={handleSubmit} onClose={() => setModal(false)} />\n    </div>\n  );\n}\n\nexport default App;\n","import { v4 as uuidv4 } from 'uuid';\n\nimport { Task } from './App';\n\nconst pricePerHour = 100;\n\nconst msInHour = 3600000;\n\nexport function add(text: string): Promise<Task> {\n  return new Promise(function(resolve) {\n    setTimeout(function() {\n      resolve({\n        id: uuidv4(),\n        text,\n        state: 'To do',\n        time: null,\n        price: null\n      });\n    }, 2000)\n  });\n}\n\nexport function start(task: Task): Promise<Task> {\n  return new Promise(function(resolve) {\n    setTimeout(function() {\n      resolve({\n        ...task,\n        time: new Date().getTime(),\n        state: 'In progress'\n      });\n    }, 2000)\n  });\n}\n\nexport function resolve(task: Task): Promise<Task> {\n  return new Promise(function(resolve) {\n    setTimeout(function() {\n      const time = task.time as number;\n      resolve({\n        ...task,\n        state: 'Done',\n        price: pricePerHour*( new Date().getTime() - time) / msInHour,\n      });\n    }, 2000)\n  });\n}","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}